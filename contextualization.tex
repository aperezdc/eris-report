% vim: ft=tex spell spelllang=en ts=2 sw=2

\chapter{Contextualization}
% TODO: \minitoc ?

Computing would not be understood without the accompanying tools which enable
IT professionals to actually \emph{do something} with computers: from simple
switches and lights in the early times, to the sophisticated programming
languages and tools of the present times, all of them enable humans to
\emph{instruct machines to do things}.

%% TODO

\section{Dynamic Programming Languages}

Dynamic languages are a family of high-level programming languages which,
at runtime, execute programming behaviors that other programming languages
perform during compilation. These behaviors could include extension of the
program, by adding new code, by extending objects and definitions, or by
modifying the type system. Support for these operations is provided
directly by the language. Most dynamic languages are also dynamically
typed, and are frequently called “scripting languages”.

Popular contemporary scripting languages include Perl, Python, PHP, the
ubiquitiuos JavaScript, and of course Lua (described in
\autoref{sec:lua-programming-lang}). Many of their features were first
implemented as native features of the Lisp programming language, which itself
is dynamic.

Dynamic programming languages have grown in popularity in the last decades,
programmers like them for their expressiveness, which allows for higher
productivity, and the ever increasing computing power of computers makes it
feasible to use them for performance-critical tasks traditionally left for
static compiled languages. The development of novel compilation techniques
aimed at this family of languages, and the relentless improvement of their
virtual machines (see \autoref{sec:virtual-machines}), has contributed as well
to increase widespread adoption.

\subsection{Virtual Machines}
	\label{sec:virtual-machines}


\subsection{JIT Compilers}
	\label{sec:jit-compilers}


\subsection{The Lua programming language}
	\label{sec:lua-programming-lang}

The Lua language is a “powerful, fast, lightweight, embeddable scripting
language” \cite{lua-about}. It was initially created as a data description
language at \gls{PUC-Rio}, and has since evolved into
a general purpose programming language. It has been used in industrial
applications (e.g. Adobe Lightroom) and it has seen widespread usage in the
video games industry.

\section{Binding Native Code to Lua}

\subsection{Lua C API}
	\label{sec:lua-c-api}

% Plain API
% API wrappers

\subsection{Binding Generators}

Binding generators are tools that can be used to create a binding to a library
in an automated way. Often they fall into the category of \glspl{transpiler}:
they take as input the source code of the code to generate a binding for,
and generate a new set of source files which contain the code of the binding.
This set of source files are themselves compiled into a loadable module for
the target programming language or virtual machine, making it a
\emph{build-time} solution.

More than often, binding generators do \emph{not} include a full parser for
the origin programming language, and they require to be fed a simplified
version of the code being wrapped. This can be a nuisance for code bases which
use complex language constructs unsupported by the binding generator.

% \minisec{Example: SWIG}
%
% The most widely known Open Source binding generator is probably
% SWIG\footnote{\url{http://swig.org}}, which supports creating bindings for
% multiple programming languages — since version 1.3.26 Lua is just one of the
% supported targets. SWIG has the ability of reading C/C++ header files as
% input, and it includes a fairly complete C/C++ parser.


\subsection{Foreign Function Interfaces}



% Examples:
%
% GObject-Introspection
% LuaJIT FFI
% Standalone FFI module

\section{Executable Formats}

\subsection{ELF}

The “Executable and Linkable Format” (ELF, formerly called “Extensible Linking
Format”) is a common standard file format for executable programs, object
code, shared libraries, and even core dumps. Since its publication as part of
the System V Release 4 (SVR4) Application Binary Interface (ABI) specification
\cite[c.~4]{elfspec-sysv}
it has been adopted by many Unix-like (Solaris, most of the BSD variants,
GNU/Linux), and non-Unix operating systems (most notably, OpenVMS, BeOS, and
its successor Haiku).

\subsection{DWARF}

The DWARF Specification \cite{dwarfspecv4}


